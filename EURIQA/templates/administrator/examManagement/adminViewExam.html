{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Add Questions</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Bootstrap CSS CDN (BOOTSTRAP 5)-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'assets/img/favicon.png' %}" type="image/x-icon">

    <!-- font css -->
    <link rel="stylesheet" href="{% static 'assets/fonts/feather.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/material.css' %}">

    <!-- vendor css -->
    <link rel="stylesheet" href="{% static 'assets/css/dashboard/style.css' %}" id="main-style-link">

    <!-- DATA TABLES -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/jszip-2.5.0/dt-1.11.3/b-2.0.1/b-html5-2.0.1/fh-3.2.0/r-2.2.9/sl-1.3.3/datatables.min.css"/>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
    <link href="https://cdn.datatables.net/select/1.3.3/css/select.bootstrap5.min.css">
    <link href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
    <link href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.bootstrap5.min.css">

</head>

<body class="">
    <!-- [ Pre-loader ] start -->
	<div class="loader-bg">
		<div class="loader-track">
			<div class="loader-fill"></div>
		</div>
	</div>
	<!-- [ Pre-loader ] End -->
	<!-- [ Mobile header ] start -->
	<div class="pc-mob-header pc-header">
		<div class="pcm-logo">
			<img src="{% static 'assets/images/logo.png' %}" alt="" class="logo logo-lg">
		</div>
		<div class="pcm-toolbar">
			<a href="#!" class="pc-head-link" id="mobile-collapse">
				<div class="hamburger hamburger--arrowturn">
					<div class="hamburger-box">
						<div class="hamburger-inner"></div>
					</div>
				</div>
			</a>
			<a href="#!" class="pc-head-link" id="header-collapse">
				<i data-feather="more-vertical"></i>
			</a>
		</div>
	</div>
	<!-- [ Mobile header ] End -->

	<!-- [ navigation menu ] start -->
	<nav class="pc-sidebar ">
		<div class="navbar-wrapper">
			<div class="m-header">
				<a href="../administrator/dashboard" class="b-brand">
					<img src="{% static 'assets/img/logotype with favicon.png' %}" alt="" class="logo logo-sm">
				</a>
			</div>
			<div class="navbar-content">    
                <br><br>
				<ul class="pc-navbar">
					<li class="pc-item pc-caption">
						<label>Home</label>
					</li>

					<li class="pc-item">
						<a href="/administrator/dashboard" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">analytics</i></span><span class="pc-mtext">Dashboard</span></a>
					</li>
					<li class="pc-item pc-caption">
						<label>Enrollee Management</label>
						<span>Enrollee Management Settings</span>
					</li>
					<li class="pc-item">
						<a href="/administrator/enrollee-management/regform" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">person_add</i></span><span class="pc-mtext">Account Registration</span></a>
					</li>
					<li class="pc-item">
						<a href="/administrator/enrollee-management/accounts" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">account_tree</i></span><span class="pc-mtext">Manage Accounts</span></a>
					</li>
					<li class="pc-item pc-caption">
						<label>Exam Management</label>
						<span>Exam Management Settings</span>
					</li>
                    <li class="pc-item">
						<a href="/administrator/exam-management/all-exams" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">assignment</i></span><span class="pc-mtext">All Exams</span></a>
					</li>
                    <li class="pc-item">
						<a href="/administrator/exam-management/create-exam" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">post_add</i></span><span class="pc-mtext">Create Exam</span></a>
					</li>
                    
					<!-- <li class="pc-item pc-hasmenu">
						<a href="#!" class="pc-link"><span class="pc-micon"><i class="material-icons-two-tone">https</i></span><span class="pc-mtext">Registration</span><span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
						<ul class="pc-submenu">
							<li class="pc-item"><a class="pc-link" href="auth-signup.html" target="_blank">Add Enrollee</a></li>
							<li class="pc-item"><a class="pc-link" href="auth-signin.html" target="_blank">Manage Enrollee</a></li>
						</ul>
					</li> -->

				</ul>
			</div>
		</div>
	</nav>
	<!-- [ navigation menu ] end -->

	<!-- [ Header ] start -->
	<header class="pc-header">
		<div class="header-wrapper">
			<div class="ml-auto">
				<ul class="list-unstyled">
					<li class="dropdown pc-h-item">
						<a class="pc-head-link dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
							{% for admin in admin_details %}
                            <img src='{{admin.picture.url}}' alt="" class="user-avtar">
                            {% endfor %}
							<span>
								<span class="user-name">{{user.get_full_name}}</span>
								<span class="user-desc">Administrator</span>
							</span>
						</a>
						<div class="dropdown-menu dropdown-menu-right pc-h-dropdown">
                            <a href="/administrator/profile" class="dropdown-item">
								<i class="material-icons-two-tone">account_circle</i> <!-- MODAL THIS -->
								<span>Profile</span>
							</a>
							<a href="/administrator/logout" class="dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
								<span>Logout</span>
							</a>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</header>
	<!-- [ Header ] end -->

    <!-- [ Main Content ] start -->
    <div class="pc-container">
        <div class="pcoded-content">
            <!-- [ breadcrumb ] start -->
            <div class="page-header">
                <div class="page-block">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <div class="page-header-title">
                                <h5 class="m-b-10">Edit Exam</h5>
                            </div>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="/administrator/exam-management/all-exams">All Exams</a></li>
                                <li class="breadcrumb-item">Edit Exam</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- [ breadcrumb ] end -->
            
            <!-- [ Main Content ] start -->
            <div class="row">
                <div class="col-md-12">
                    <!-- Message Loader -->
                    {% for message in messages %}
                    <div class="alert {{message.tags}}" role="alert">
                    {{ message }}
                    </div>
                    {% endfor %}

                    <div class="card">
                        <div class="card-header">
                            <h4 style="color: white;">Exam Title: [{{exams.title}}]</h5>
                        </div>
                        <div class="card-body">
                            <!-- Exam Information-->
                            <div class="container">
                                <div class="row">
                                    <div class="col-5">
                                        <h5><b style="padding-right: 30px;">Created by:</b> {{exams.created_by.user.get_full_name}}</h5>
                                        <h5><b style="padding-right: 25px;">Assigned to:</b> {{exams.takers}}</h5>
                                    </div>
                                    <div class="col-5">
                                        <h5><b style="padding-right: 30px;">Total Items:</b> {{exams.total_items}}</h5>
                                        <h5><b style="padding-right: 25px;">Total Points:</b> {{exams.overall_points}}</h5>
                                    </div>
                                    <div class="col-2">
                                        <h5><a href="#" data-bs-toggle="modal" data-bs-target="#addQuestion" style="color: maroon; float: left;">+ Add Questions</a></h5>
                                        <br>
                                        <h5><a href="#" data-bs-toggle="modal" data-bs-target="#addPart" style="color: maroon; float: left;">+ Add Parts</a></h5>
                                    </div>
                                </div>
                            </div>

                            <!-- Questions -->
                            <div class="container" style="padding-top: 50px;">                             
                                {% for part in parts %}                     
                                <div class="card">
                                    <div class="card-header" style="background-color: white; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 6px 20px 0 rgba(0, 0, 0, 0.1);">
                                        <h5>
                                            <!-- Part name -->
                                            <a style="color: maroon;" data-toggle="collapse" href="#part-{{part.part_id}}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                                Part Name: [{{part.part_name}}]
                                            </a>
                                            
                                            <!-- Delete Button -->
                                            <a href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#deletePart-{{part.part_id}}">
                                                <i title="Delete Part" class="material-icons-two-tone" style="background-color: maroon;">delete</i>
                                            </a> 
                                            
                                            <!--Button down-->
                                            <a style="float: right; padding: 0px; height: 20px;" data-toggle="collapse" href="#part-{{part.part_id}}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                                <i class="material-icons-two-tone" style="background-color: maroon; padding-bottom: 30px">keyboard_arrow_down</i>
                                            </a>
                                        </h5>
                                    </div>

                                    <div class="collapse" id="part-{{part.part_id}}">
                                        <div class="card-body" style="background-color: rgb(235, 233, 233,0.3); box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 6px 20px 0 rgba(0, 0, 0, 0.1);"">
                                            <!-- Duration -->
                                            <div class="row" style="padding-bottom: 20px;">
                                                <p class="text-justify" style="font-size:16px">
                                                    <b style="padding-right: 30px;">Instructions:</b>{{part.instructions}}
                                                </p>
                                            </div>

                                            <div class="row" style="padding-bottom: 20px;">
                                                <div class="col-4">
                                                    <p class="text-justify" style="font-size:16px">
                                                        <b style="padding-right: 30px;">Duration: </b> 
                                                    </p>
                                                </div>
                                                <div class="col-4">
                                                    <p class="text-justify" style="font-size:16px">
                                                        <b style="padding-right: 30px;">Total Items: </b>{{part.total_items}}
                                                    </p>
                                                </div>
                                                <div class="col-4">
                                                    <p class="text-justify" style="font-size:16px">
                                                        <b style="padding-right: 30px;">Total Points: </b>{{part.overall_points}}
                                                    </p>
                                                </div>
                                            </div>
                                            
                                            {% for ques in questions %}
                                                <!-- Condition below filters displays the questions to their respective parts -->
                                                {% if ques.part.part_id == part.part_id %}
                                                <!--Question Number and Question-->
                                                <p class="text-justify" style="margin: 0px 50px 0px 50px; font-size:16px; padding-bottom: 20px;">
                                                    <b>{{ques.question_no}}.) {{check_id}}</b> &nbsp;&nbsp;&nbsp;&nbsp;{{ques.question}}&nbsp;&nbsp;&nbsp;&nbsp;
                                                    <small style="color: red;">* {{ques.points}} pt/s</small>
                                                </p>
                                                
                                                <!-- Options -->
                                                <!--Option A-->
                                                <p class="text-justify" style="margin: 0px 50px 0px 50px;">
                                                    <div class="form-check" style="margin: 0px 100px 0px 100px;">
                                                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1">
                                                        <label class="form-check-label" for="exampleRadios1" style="font-size:16px">
                                                            &nbsp;&nbsp;&nbsp;&nbsp;A.&nbsp;&nbsp;&nbsp;&nbsp;{{ques.optionA}}
                                                        </label>
                                                    </div>   
                                                </p>
                                                <!--Option B-->
                                                <p class="text-justify" style="margin: 0px 50px 0px 50px;">
                                                    <div class="form-check" style="margin: 0px 100px 0px 100px;">
                                                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1">
                                                        <label class="form-check-label" for="exampleRadios1" style="font-size:16px">
                                                            &nbsp;&nbsp;&nbsp;&nbsp;B.&nbsp;&nbsp;&nbsp;&nbsp;{{ques.optionB}}
                                                        </label>
                                                    </div>   
                                                </p>
                                                <!--Option C-->
                                                <p class="text-justify" style="margin: 0px 50px 0px 50px;">
                                                    <div class="form-check" style="margin: 0px 100px 0px 100px;">
                                                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1">
                                                        <label class="form-check-label" for="exampleRadios1" style="font-size:16px">
                                                            &nbsp;&nbsp;&nbsp;&nbsp;C.&nbsp;&nbsp;&nbsp;&nbsp;{{ques.optionC}}
                                                        </label>
                                                    </div>   
                                                </p>
                                                <!--Option D-->
                                                <p class="text-justify" style="margin: 0px 50px 0px 50px;">
                                                    <div class="form-check" style="margin: 0px 100px 0px 100px;">
                                                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1">
                                                        <label class="form-check-label" for="exampleRadios1" style="font-size:16px">
                                                            &nbsp;&nbsp;&nbsp;&nbsp;D.&nbsp;&nbsp;&nbsp;&nbsp;{{ques.optionD}}
                                                        </label>
                                                    </div>   
                                                </p>
                                                {% endif %}
                                            {% endfor %}
                                            
                                        </div>
                                    </div>

                                </div>

                                <div class="modal fade" id="deletePart-{{part.part_id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <form class="row g-3 needs-validation" novalidate method="POST"> 
                                        {% csrf_token %}
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel"><b>Confirm Part Deletion</b></h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>

                                            <div class="modal-body" style="text-align: left;">
                                                Are you sure you want to delete this part? All questions under this part will also be deleted.
                                                <input type="text" name="part_to_delete" value={{part.part_id}} hidden>
                                            </div>

                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" name="btnDelPart" class="btn btn-secondary" style="background-color: maroon;">Yes</button>
                                            </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                {% endfor %}
                                <br><hr><br>
                                <!-- Question Table -->
                                <h3>All Questions</h3>
                                <table id="addedQuestions" class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Question No.</th>
                                            <th style="text-align: center;">Question</th>
                                            <th style="text-align: center;">Part</th>
                                            <th style="text-align: center;">Points</th>
                                            <th style="text-align: center;">Action</th>
                                        </tr>
                                    </thead>

                                    <tbody style="text-align: center;">
                                        {% for ques in questions %}
                                        <tr>
                                            <td>{{ques.question_no}}</td>
                                            <!-- Truncates the question-->
                                            <td style="white-space: nowrap; text-overflow:ellipsis; overflow: hidden; max-width:1px;">
                                                {{ques.question}}
                                            </td>
                                            <td>{{ques.part.part_name}}</td>
                                            <td>{{ques.points}}</td>
                                            <td>
                                                <a href="#" data-bs-toggle="modal" data-bs-target="#editQuestion-{{ques.question_id}}">
                                                    <i title="Edit Question" class="material-icons-two-tone" style="background-color:gold; padding-bottom: 30px;">edit</i>
                                                </a>
                                                <a href="#" data-bs-toggle="modal" data-bs-target="#deleteQuestion-{{ques.question_id}}">
                                                    <i title="Delete Question" class="material-icons-two-tone" style="background-color: maroon; padding-bottom: 30px">delete</i>
                                                </a>

                                                <!-- EDIT QUESTION MODAL -->
                                                <form class="row g-3 needs-validation" novalidate method="POST">
                                                    {% csrf_token %}
                                                        <div class="modal fade" id="editQuestion-{{ques.question_id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-lg">
                                                            <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Edit Question</h5>
                                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">                                                    
                                                                <!-- Edit Question -->
                                                                <div class="row" style="padding-top: 50px;">
                                                                    <div class="col-1"></div>
                                                                    <div class="col-10">
                                                                        <div class="row">
                                                                            <!-- Question No. -->
                                                                            <div class="col-3"> 
                                                                                <div class="form-floating">
                                                                                    <input type="number" name="ques_id" value="{{ques.question_id}}" hidden>
                                                                                    <input type="number" name="edit_question_no" min=1 value="{{ques.question_no}}" class="form-control" id="floatingNo" placeholder="No." required readonly>
                                                                                    <label for="floatingNo">Question No.</label>
                                                                                </div>
                                                                            </div>
                                                                            <!-- Part -->
                                                                            <div class="col-6">
                                                                                <div class="form-floating">
                                                                                    <select class="form-select" id="floatingPart" name="edit_part" aria-label="Default select example">
                                                                                        {% for part in parts %}
                                                                                            <option value={{part.part_id}} {% if ques.part.part_id == part.part_id %} selected {% endif %}>{{part.part_name}}</option>
                                                                                        {% endfor %}
                                                                                    </select>                                                                        
                                                                                    <label for="floatingPart">Part</label>
                                                                                </div>
                                                                                
                                                                            </div>
                        
                                                                            <!-- Points -->
                                                                            <div class="col-3">
                                                                                <div class="form-floating">
                                                                                    <input type="number" name="edit_points" value="{{ques.points}}" min=1 class="form-control" id="floatingPoints" placeholder="No." required>
                                                                                    <label for="floatingPoints">Points</label>
                                                                                </div>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                        <br>
                                                    
                                                                        <!-- Question -->
                                                                        <div class="row">
                                                                            <div class="col">
                                                                                <div class="form-floating">
                                                                                    <textarea class="form-control" name="edit_question" placeholder="Question" id="floatingQuestion" style="height: 100px;" required>{{ques.question}}</textarea>
                                                                                    
                                                                                    <label for="floatingQuestion">Question</label>
                                                                                    
                                                                                    <div class="invalid-feedback">
                                                                                        Please add a question.
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <br>
                                                    
                                                                        <!-- Options -->
                                                                        <div class="row">
                                                                            <div class="input-group mb-3">
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="edit_option" value="A" id="radioOptionA" required>
                                                                                    <label class="form-check-label" for="radioOptionA">
                                                                                        A. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    </label>
                                                                                </div>
                                                                                <input type="text" class="form-control" name="edit_optionA" value="{{ques.optionA}}" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                                                
                                                                                <div class="invalid-feedback">
                                                                                    No option specified.
                                                                                </div>
                                                                            </div>
                                                    
                                                                            <div class="input-group mb-3">
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="edit_option" value="B" id="radioOptionB" required>
                                                                                    <label class="form-check-label" for="radioOptionB">
                                                                                        B. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    </label>
                                                                                </div>
                                                                                <input type="text" class="form-control" name="edit_optionB" value="{{ques.optionB}}" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                                            
                                                                                <div class="invalid-feedback">
                                                                                    No option specified.
                                                                                </div>
                                                                            </div>
                                                    
                                                                            <div class="input-group mb-3">
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="edit_option" value="C" id="radioOptionC" required>
                                                                                    <label class="form-check-label" for="radioOptionC">
                                                                                        C. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    </label>
                                                                                </div>
                                                                                <input type="text" class="form-control" name="edit_optionC" value="{{ques.optionC}}" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                                            
                                                                                <div class="invalid-feedback">
                                                                                    No option specified.
                                                                                </div>
                                                                            </div>
                                                    
                                                                            <div class="input-group mb-3">
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="edit_option" value="D" id="radioOptionD" required>
                                                                                    <label class="form-check-label" for="radioOptionD">
                                                                                        D. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                    </label>
                                                                                </div>
                                                                                <input type="text" class="form-control" name="edit_optionD" value="{{ques.optionD}}" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                                            
                                                                                <div class="invalid-feedback">
                                                                                    No option specified.
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <br>
                                                                        <!-- Correct Answer -->
                                                                        <div class="row">
                                                                            <div class="col">
                                                                            <h5>Correct Answer:</h5>
                                                                                <br>
                                                                                {% if ques.answer == 'A' %}
                                                                                <input type="text" class="form-control" value="A. {{ques.optionA}}" aria-label="Example text with button addon" aria-describedby="button-addon1" readonly> 
                                                                                {% elif ques.answer == 'B' %}
                                                                                <input type="text" class="form-control" value="B. {{ques.optionB}}" aria-label="Example text with button addon" aria-describedby="button-addon1" readonly> 
                                                                                {% elif ques.answer == 'C' %}
                                                                                <input type="text" class="form-control" value="C. {{ques.optionC}}" aria-label="Example text with button addon" aria-describedby="button-addon1" readonly> 
                                                                                {% elif ques.answer == 'D' %}
                                                                                <input type="text" class="form-control" value="D. {{ques.optionD}}" aria-label="Example text with button addon" aria-describedby="button-addon1" readonly> 
                                                                                {% else %}
                                                                                <input type="text" class="form-control" value="ERROR" aria-label="Example text with button addon" aria-describedby="button-addon1" readonly> 
                                                                                {% endif %}
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1"></div>
                                                                </div> 
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                                <button type="submit" class="btn btn-secondary" name="btnSaveEdited" style="background-color: maroon;">Save Changes</button>
                                                            </div>
                                                            </div>
                                                        </div>
                                                        </div>
                                                </form>

                                                <!-- DELETE QUESTION MODAL -->
                                                <form class="row g-3 needs-validation" novalidate method="POST">
                                                {% csrf_token %}
                                                    <div class="modal fade" id="deleteQuestion-{{ques.question_id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel"><b>Confirm Question Deletion</b></h5>
                                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                            </div>

                                                            <div class="modal-body" style="text-align: left;">
                                                                Are you sure you want to delete question?
                                                                <input type="text" name="ques_to_delete" value="{{ques.question_id}}" hidden>
                                                                <input type="text" name="part" value="{{ques.part.part_id}}" hidden>
                                                            </div>

                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                                <button type="submit" name="btnDelQues" class="btn btn-secondary" style="background-color: maroon;">Yes</button>
                                                            </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </td>
                                        </tr>
                                        
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Add Question Modal -->
                    <form class="row g-3 needs-validation" novalidate method="POST">
                        {% csrf_token %}
                        <div class="modal fade" id="addQuestion" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Add Questions</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">                                                    
                                        <!-- Add Question -->
                                        <div class="row" style="padding-top: 50px;">
                                            <div class="col-1"></div>
                                            <div class="col-10">
                                                <div class="row">
                                                    <!-- Exam ID -->
                                                    <input type="number" value="{{exams.exam_id}}" name="exam_id" hidden>
                                                    <!-- Part -->
                                                    <div class="col-8">
                                                        <div class="form-floating">
                                                            <select class="form-select" id="floatingPart" name="add_part" aria-label="Default select example" required>
                                                                {% for part in parts %}
                                                                    <option value={{part.part_id}}>{{part.part_name}}</option>
                                                                {% endfor %} 
                                                                </select>                                                                        
                                                            <label for="floatingPart">Part</label>
                                                        </div>
                                                    </div>

                                                    <!-- Points -->
                                                    <div class="col-4">
                                                        <div class="form-floating">
                                                            <input type="number" name="add_points" min=1 value=1 class="form-control" id="floatingPoints" placeholder="No." required>
                                                            <label for="floatingPoints">Points</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                            
                                                <!-- Question -->
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="form-floating">
                                                            <textarea class="form-control" name="add_ques" placeholder="Question" id="floatingQuestion" style="height: 100px;" required></textarea> 
                                                            <label for="floatingQuestion">Question</label>
                                                            
                                                            <div class="invalid-feedback">
                                                                Please add a question.
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                            
                                                <!-- Options -->
                                                <div class="row">
                                                    <div class="input-group mb-3">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="add_option" value="A" id="radioOptionA" required>
                                                            <label class="form-check-label" for="radioOptionA">
                                                                A. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            </label>
                                                        </div>
                                                        <input type="text" class="form-control" name="add_optionA" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                        
                                                        <div class="invalid-feedback">
                                                            No option specified.
                                                        </div>
                                                    </div>
                            
                                                    <div class="input-group mb-3">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="add_option" value="B" id="radioOptionB" required>
                                                            <label class="form-check-label" for="radioOptionB">
                                                                B. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            </label>
                                                        </div>
                                                        <input type="text" class="form-control" name="add_optionB" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                    
                                                        <div class="invalid-feedback">
                                                            No option specified.
                                                        </div>
                                                    </div>
                            
                                                    <div class="input-group mb-3">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="add_option" value="C" id="radioOptionC" required>
                                                            <label class="form-check-label" for="radioOptionC">
                                                                C. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            </label>
                                                        </div>
                                                        <input type="text" class="form-control" name="add_optionC" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                    
                                                        <div class="invalid-feedback">
                                                            No option specified.
                                                        </div>
                                                    </div>
                            
                                                    <div class="input-group mb-3">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="add_option" value="D" id="radioOptionD" required>
                                                            <label class="form-check-label" for="radioOptionD">
                                                                D. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            </label>
                                                        </div>
                                                        <input type="text" class="form-control" name="add_optionD" aria-label="Example text with button addon" aria-describedby="button-addon1" required>
                                                    
                                                        <div class="invalid-feedback">
                                                            No option specified.
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                            </div>
                                            <div class="col-1"></div>
                                        </div> 
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-secondary" name="btnAddQues" style="background-color: maroon;">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    

                    <!-- Add Part Modal -->
                    <form class="row g-3 needs-validation" novalidate method="POST"> 
                        {% csrf_token %}

                        <!-- <input type="number" value={{exam.exam_id}} name="exam_id" hidden> -->

                        <div class="modal fade" id="addPart" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <!-- Modal Header -->
                            <div class="modal-dialog modal-dialog-scrollable">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Add Part</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
            
                                    <!-- Modal Body -->    
                                    <div class="modal-body">
                                        <!-- Exam Parts -->
                                        <div class="row">
                                            <!-- Part Name -->
                                            <div class="col">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="part_name" id="floatingPartName" placeholder="Part Name" required>
                                                    <label for="floatingPartName">Part Name</label>
                    
                                                    <div class="invalid-feedback">
                                                        Specify part name.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br>    
                                        <!-- Instructions -->
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-floating">
                                                    <textarea class="form-control" name="instruction" placeholder="Instruction" id="floatingInstruction" style="height: 100px;" required></textarea>
                                                    <label for="floatingInstruction">Instruction</label>
                                                    
                                                    <div class="invalid-feedback">
                                                        Instructions can't be blank.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                
                                    <!-- Modal Footer-->
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"  data-bs-dismiss="modal">Close</button>
                                        
                                        <!-- Save Button -->
                                        <button type="submit" class="btn btn-secondary" name="btnAddPart" style="background-color: maroon;">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- [ Main Content ] end -->
        </div>
    </div>
</body>

<!-- Scripts  -->
<footer> 
    <!-- Required Js -->
    <script src="{% static 'assets/js/dashboard/vendor-all.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/pcoded.min.js' %}"></script>

    <!-- custom-chart js -->
    <script src="{% static 'assets/js/dashboard/pages/dashboard-sale.js' %}"></script>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- BOOTSTRAP FORM VALIDATION -->
    <script src="{% static 'assets/js/formvalidation.js' %}"></script>
    
    <!-- DATATABLE -->
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>

    <!-- JS for Datatables-->
    <script>
        $(document).ready(function() {
            $('#addedQuestions').DataTable({
                "order": [[ 2, "asc" ]]
            });
        } );
    </script>

</footer>

</html>
