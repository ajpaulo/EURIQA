{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'assets/img/favicon.png' %}" type="image/x-icon">

    <!-- font css -->
    <link rel="stylesheet" href="{% static 'assets/fonts/feather.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/material.css' %}">

    <!-- vendor css -->
    <link rel="stylesheet" href="{% static 'assets/css/dashboard/style.css' %}" id="main-style-link">

</head>

<body class="">
    <!-- [ Pre-loader ] start -->
	<div class="loader-bg">
		<div class="loader-track">
			<div class="loader-fill"></div>
		</div>
	</div>
	<!-- [ Pre-loader ] End -->
	<!-- [ Mobile header ] start -->
	<div class="pc-mob-header pc-header">
		<div class="pcm-logo">
			<img src="{% static 'assets/images/logo.png' %}" alt="" class="logo logo-lg">
		</div>
		<div class="pcm-toolbar">
			<a href="#!" class="pc-head-link" id="mobile-collapse">
				<div class="hamburger hamburger--arrowturn">
					<div class="hamburger-box">
						<div class="hamburger-inner"></div>
					</div>
				</div>
			</a>
			<a href="#!" class="pc-head-link" id="header-collapse">
				<i data-feather="more-vertical"></i>
			</a>
		</div>
	</div>
	<!-- [ Mobile header ] End -->

	<!-- [ navigation menu ] start -->
	<nav class="pc-sidebar ">
		<div class="navbar-wrapper">
			<div class="m-header">
				<a href="../administrator/dashboard" class="b-brand">
					<img src="{% static 'assets/img/logotype with favicon.png' %}" alt="" class="logo logo-sm">
				</a>
			</div>
			<div class="navbar-content">    
                <br><br>
				<ul class="pc-navbar">
					<li class="pc-item pc-caption">
						<label>Home</label>
					</li>
					<li class="pc-item active">
						<a href="../administrator/dashboard" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">analytics</i></span><span class="pc-mtext">Dashboard</span></a>
					</li>
					<li class="pc-item pc-caption">
						<label>Enrollee Management</label>
						<span>Enrollee Management Settings</span>
					</li>
					
					<li class="pc-item">
						<a href="../administrator/enrollee-management/regform" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">person_add</i></span><span class="pc-mtext">Account Registration</span></a>
					</li>
					<li class="pc-item">
						<a href="../administrator/enrollee-management/accounts" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">account_tree</i></span><span class="pc-mtext">Manage Accounts</span></a>
					</li>
					<li class="pc-item pc-caption">
						<label>Exam Management</label>
						<span>Exam Management Settings</span>
					</li>
                    <li class="pc-item">
						<a href="../administrator/exam-management/all-exams" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">assignment</i></span><span class="pc-mtext">All Exams</span></a>
					</li>
                    <li class="pc-item">
						<a href="../administrator/exam-management/create-exam" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">post_add</i></span><span class="pc-mtext">Create Exam</span></a>
					</li>
                    
					<!-- <li class="pc-item pc-hasmenu">
						<a href="#!" class="pc-link"><span class="pc-micon"><i class="material-icons-two-tone">https</i></span><span class="pc-mtext">Registration</span><span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
						<ul class="pc-submenu">
							<li class="pc-item"><a class="pc-link" href="auth-signup.html" target="_blank">Add Enrollee</a></li>
							<li class="pc-item"><a class="pc-link" href="auth-signin.html" target="_blank">Manage Enrollee</a></li>
						</ul>
					</li> -->

				</ul>
			</div>
		</div>
	</nav>
	<!-- [ navigation menu ] end -->

	<!-- [ Header ] start -->
	<header class="pc-header">
		<div class="header-wrapper">
			<div class="ml-auto">
				<ul class="list-unstyled">
					<li class="dropdown pc-h-item">
						<a class="pc-head-link dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
							{% for admin in qs_admin %}
                            <img src='{{admin.picture.url}}' alt="" class="user-avtar">
                            {% endfor %}
							<span>
								<span class="user-name">{{user.get_full_name}}</span>
								<span class="user-desc">Administrator</span>
							</span>
						</a>
						<div class="dropdown-menu dropdown-menu-right pc-h-dropdown">
                            <a href="../administrator/profile" class="dropdown-item">
								<i class="material-icons-two-tone">account_circle</i> <!-- MODAL THIS -->
								<span>Profile</span>
							</a>
							<a href="../administrator/logout" class="dropdown-item">
                                <i class="fas fa-sign-out-alt"></i>
								<span>Logout</span>
							</a>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</header>
	<!-- [ Header ] end -->

	<!-- [ Main Content ] start -->
	<div class="pc-container">
		<div class="pcoded-content">
			<!-- [ breadcrumb ] start -->
			<div class="page-header">
				<div class="page-block">
					<div class="row align-items-center">
						<div class="col-md-6">
							<div class="page-header-title">
								<h5 class="m-b-10">Dashboard</h5>
							</div>
							<ul class="breadcrumb">
								<li class="breadcrumb-item"><a href="index.html">Home</a></li>
								<li class="breadcrumb-item">Dashboard</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!-- [ breadcrumb ] end -->
			
			<!-- Main Content start -->
			<div class="row">
				<!-- col start -->
				<div class="col-xl-6 col-md-12">
					<div class="card flat-card">
						<div class="row-table">
							<div class="col-sm-6 card-body br">
								<div class="row">
									<div class="col-sm-4">
										<i class="material-icons-two-tone text-primary mb-1">group</i>
									</div>
									<div class="col-sm-8 text-md-center">
										<h5>{{qs_enrollee.count}}</h5>
										<span>Enrollees</span>
									</div>
								</div>
							</div>
							<div class="col-sm-6 d-none d-md-table-cell d-lg-table-cell d-xl-table-cell card-body br">
								<div class="row">
									<div class="col-sm-4">
										<i class="material-icons-two-tone text-primary mb-1">language</i>
									</div>
									<div class="col-sm-8 text-md-center">
										<h5>{{count_freshman}}</h5>
										<span>Freshman</span>
									</div>
								</div>
							</div>
							<div class="col-sm-6 card-body">
								<div class="row">
									<div class="col-sm-4">
										<i class="material-icons-two-tone text-primary mb-1">unarchive</i>
									</div>
									<div class="col-sm-8 text-md-center">
										<h5>{{count_transferee}}</h5>
										<span>Transferee</span>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="card support-bar overflow-hidden">
								<div class="card-body pb-0">
									<h2 class="m-0">53.94%</h2>
									<span class="text-primary">Takers Growth Rate</span>
									<p class="mb-3 mt-3">Number of takers Growth Per Year. </p>
								</div>
								<div id="support-chart"></div>
								<div class="card-footer border-0 bg-primary text-white background-pattern-white">
									<div class="row text-centers">
										<div class="col">
											<h4 class="m-0 text-white">10</h4>
											<span>2022</span>
										</div>
										<div class="col">
											<h4 class="m-0 text-white">15</h4>
											<span>2021</span>
										</div>
										<div class="col">
											<h4 class="m-0 text-white">13</h4>
											<span>2020</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="card support-bar overflow-hidden">
								<div class="card-body pb-0">
									<h2 class="m-0">{{qs_enrollee.count}}</h2>
									<span class="text-primary">Enrollees</span>
									<p class="mb-3 mt-3">Total number of takers per department.</p>
								</div>
								<div class="card-footer border-0">
									<div class="row text-center">
										<div class="col">
											<h4 class="m-0">{{count_college}}</h4>
											<span>College</span>
										</div>
										<div class="col">
											<h4 class="m-0">{{count_shs}}</h4>
											<span>Senior</span>
										</div>
										<div class="col">
											<h4 class="m-0 ">{{count_jhs}}</h4>
											<span>Junior</span>
										</div>
									</div>
								</div>
								<div id="support-chart1"></div>
							</div>
						</div>
					</div>
				<!-- col end -->
				</div>
				<!-- Account data start -->
				<div class="col-sm-6">
					<div class="card table-card">
						<div class="card-header">
							<h5>Accounts</h5>
						</div>
						<div class="pro-scroll" style="height:300px;position:relative;">
							<div class="card-body p-0">
								<div class="table-responsive">
									<table class="table table-hover m-b-0">
										<thead>
											<tr>
												<th>Enrollee ID</th>
												<th>Enrollee Name</th>
												<th>Year Level</th>
												<th>Exam Status</th>
											</tr>
										</thead>
										{% for qs_enrollee in qs_enrollee|slice:":5" %}
										<tbody>
											<tr>
												<td>{{qs_enrollee.enrollee_id}}</td>
												<td>
													{{qs_enrollee.user.get_full_name}}
												</td>
												<td>{{qs_enrollee.level}}</td>
												<td>{{qs_enrollee.exam_status}}</td>
											</tr>
										</tbody>
										{% endfor %}
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Account data end -->
			</div>

			<!-- QUICK ADD start -->
            <div class="row">
                <div class="col-md-7">
                    <div class="card">
                        <div class="card-header">
                            <h5>Quick Add</h5>
                        </div>
                        <div class="card-body">
                            <form>
                                <div class="row mb-3">
                                    <label for="inputUname" class="col-sm-3 col-form-label">Username</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="inputUname" placeholder="ID Number" name="username">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="inputFirstname" class="col-sm-3 col-form-label">First Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="inputFirstname" placeholder="" name="username">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="inputLastname" class="col-sm-3 col-form-label">Last Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="inputLastname" placeholder="format: Lastname.123456" name="username" readonly>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <label for="inputPassword3" class="col-sm-3 col-form-label">Password</label>
                                    <div class="col-sm-9">
                                        <input type="password" class="form-control" id="inputPassword3">
                                    </div>
                                </div>
								<div class="row mb-3">
                                    <label for="inputPassword3" class="col-sm-3 col-form-label">Level</label>
                                    <div class="col-sm-9">
                                        <div class="form-group">
											<select class="form-control" id="exampleFormControlSelect1">
												<option>College</option>
												<option>Elementary</option>
												<option>Junior High School</option>
												<option>Senior High School</option>											
											</select>
										</div>
                                    </div>
                                </div>
                        <div class="card-footer" style="margin-bottom: 12px;">
                            <button class="btn btn-primary mr-2">Submit</button>
                        </div>
                    </form>
                    </div>
                </div>
            </div>
			<!-- QUICK ADD end -->

            <!-- College Enrollment start -->
            <div class="col-xl-5 col-md-5">
				<div class="card table-card">
					<div class="card-header">
						<h5>Demographic</h5>
					</div>
					<div class="card-body" style="padding: 0; margin-bottom: 0;">
						<canvas id="myChart3" width="150px" height="150px"></canvas>
					</div>
				</div>
			</div>
			<!-- College Enrollment Graph end -->
            

			<!-- SHS Enrollment Graph start -->
			<div class="activatedAccounts">
            <div class="col-xl-8 col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h5>College Enrollment</h5>
                        <a href="#shs" style="color:maroon;" class="switchDeactivated"><button></button></a>
                    </div>
                    <div class="card-body">
                        <canvas id="myChart"></canvas>
					</div>
                </div>
            </div>
        	</div>
			<!-- SHS Enrollment Graph ends -->

			
			

			<div class="deactivatedAccounts" hidden>
			<div class="col-xl-8 col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h5>SHS Enrollment</h5>
                        <a href="#college" style="color:maroon;" class="switchActivated"><button></button></a>
                    </div>
                    <div class="card-body">
                        <canvas id="myChart2"></canvas>
					</div>
                </div>
            </div>
            </div>
			
			
				
			</div>
			<!-- [ Main Content ] end -->
			<!-- <script>
        $(".switchDeactivated").click(function(){
            $(".deactivatedAccounts").show();
            $(".activatedAccounts").hide();
            $(".deactivatedAccounts").removeAttr("hidden")
        });

        $(".switchActivated").click(function(){
            
            $(".deactivatedAccounts").hide();
            $(".activatedAccounts").show();
        });

    </script> -->
		</div>
	</div>	
</body>

<!-- Scripts  -->
<footer> 
    <!-- Required Js -->
    <script src="{% static 'assets/js/dashboard/vendor-all.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/pcoded.min.js' %}"></script>
    
    <!-- custom-chart js -->
    <script src="{% static 'assets/js/dashboard/pages/dashboard-sale.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

 <!-- Charts -->
<script>
  const data = {
    labels: [{% for qs_program in qs_program %} '{{ qs_program.program_id }}', {% endfor %}],
    datasets: [{
      label: 'Number of Enrollees',
      data: [{% for qs_program in qs_program %} '{{ qs_program.num_enrollees }}', {% endfor %}],
      backgroundColor: 'rgb(128, 0, 0)',
      borderColor: 'rgb(255,215,0)',
      borderWidth: 2,
      
    },
    ]
  };

  const config = {
    type: 'bar',
    data: data,
    options: {
      animations: {
        tension: {
          duration: 1000,
          easing: 'linear',
          from: 1,
          to: 0,
          loop: true
        }
      },
      scales: {
        y: { // defining min and max so hiding the dataset does not change scale range
          min: 0,
          max: 5
        }
      }
    }
  };

  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );

  const data2 = {
  	labels: [
    'ABM',
    'GAS',
    'HUMSS',
    'STEM'
  ],
    // labels: [{% for qs_strand in qs_strand %} '{{ qs_strand.strand_name }}', {% endfor %}],
    datasets: [{
      label: 'Number of Enrollees',
      data: [{% for qs_strand in qs_strand %} '{{ qs_strand.num_enrollees }}', {% endfor %}],
      backgroundColor: 'rgb(128, 0, 0)',
      borderColor: 'rgb(255, 215, 0)',
      borderWidth: 2,
      
    },
    ]
  };

  const config2 = {
    type: 'bar',
    data: data2,
    options: {
      animations: {
        tension: {
          duration: 1000,
          easing: 'linear',
          from: 1,
          to: 0,
          loop: true
        }
      },
      indexAxis: 'y',
      scales: {
        x: {
        beginAtZero: true
      }
      }
    }
  };

  const myChart2 = new Chart(
    document.getElementById('myChart2'),
    config2
  );

  const data3 = {
  labels: [
    'Freshman',
    'Transferee'
  ],
  datasets: [{
    label: '',
    data: ['{{ count_freshman }}','{{ count_transferee }}'],
    backgroundColor: [
      'rgb(128, 0, 0)',
      'rgb(255, 215, 0)',
    ],
    hoverOffset: 10
  }]
};

  const config3 = {
  type: 'pie',
  data: data3,
};

const myChart3 = new Chart(
    document.getElementById('myChart3'),
    config3
  );
  
</script>

<!-- Switch between activated and deactivated accounts table -->
    <script>
        $(".switchDeactivated").click(function(){
            $(".deactivatedAccounts").show();
            $(".activatedAccounts").hide();
            $(".deactivatedAccounts").removeAttr("hidden")
        });

        $(".switchActivated").click(function(){
            
            $(".deactivatedAccounts").hide();
            $(".activatedAccounts").show();
        });

    </script>

                
</footer>

</html>
