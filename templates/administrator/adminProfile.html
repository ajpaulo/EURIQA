{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Profile Settings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'assets/img/favicon.png' %}" type="image/x-icon">

    <!-- font css -->
    <link rel="stylesheet" href="{% static 'assets/fonts/feather.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/material.css' %}">

    <!-- vendor css -->
    <link rel="stylesheet" href="{% static 'assets/css/dashboard/style.css' %}" id="main-style-link">

</head>

<body class="">
    {% block content %}
    {% for admin in admin_details %}
    <!-- [ Pre-loader ] start -->
    <div class="loader-bg">
        <div class="loader-track">
            <div class="loader-fill"></div>
        </div>
    </div>
    <!-- [ Pre-loader ] End -->
    <!-- [ Mobile header ] start -->
    <div class="pc-mob-header pc-header">
        <div class="pcm-logo">
            <img src="{% static 'assets/images/logo.png' %}" alt="" class="logo logo-lg">
        </div>
        <div class="pcm-toolbar">
            <a href="#!" class="pc-head-link" id="mobile-collapse">
                <div class="hamburger hamburger--arrowturn">
                    <div class="hamburger-box">
                        <div class="hamburger-inner"></div>
                    </div>
                </div>
            </a>
            <a href="#!" class="pc-head-link" id="header-collapse">
                <i data-feather="more-vertical"></i>
            </a>
        </div>
    </div>
    <!-- [ Mobile header ] End -->

    <!-- [ navigation menu ] start -->
    <nav class="pc-sidebar ">
        <div class="navbar-wrapper">
            <div class="m-header">
                <a href="../administrator/dashboard" class="b-brand">
                    <img src="{% static 'assets/img/logotype with favicon.png' %}" alt="" class="logo logo-sm">
                </a>
            </div>
            <div class="navbar-content">    
                <br><br>
                <ul class="pc-navbar">
                    <li class="pc-item pc-caption">
                        <label>Home</label>
                    </li>
                    <li class="pc-item">
                        <a href="../administrator/dashboard" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">analytics</i></span><span class="pc-mtext">Dashboard</span></a>
                    </li>

                    <li class="pc-item pc-caption">
                        <label>Enrollee Management</label>
                        <span>Enrollee Management Settings</span>
                    </li>
                    <li class="pc-item">
                        <a href="../administrator/enrollee-management/regform" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">person_add</i></span><span class="pc-mtext">Account Registration</span></a>
                    </li>
                    <li class="pc-item">
                        <a href="../administrator/enrollee-management/accounts" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">account_tree</i></span><span class="pc-mtext">Manage Accounts</span></a>
                    </li>
                    <li class="pc-item pc-caption">
                        <label>Exam Management</label>
                        <span>Exam Management Settings</span>
                    </li>
                    <li class="pc-item">
                        <a href="../administrator/exam-management/all-exams" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">assignment</i></span><span class="pc-mtext">All Exams</span></a>
                    </li>
                    <li class="pc-item">
                        <a href="../administrator/exam-management/create-exam" class="pc-link "><span class="pc-micon"><i class="material-icons-two-tone">post_add</i></span><span class="pc-mtext">Create Exam</span></a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <!-- [ navigation menu ] end -->

    <!-- [ Header ] start -->
    <header class="pc-header ">
        <div class="header-wrapper">

            <div class="ml-auto">
                <ul class="list-unstyled">
                    <li class="dropdown pc-h-item">
                        <a class="pc-head-link dropdown-toggle arrow-none mr-0" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                            
                            <img src='{{admin.picture}}' alt="" class="user-avtar">
                            
                            <span>
                                <span class="user-name">{{user.get_full_name}}</span>
                                <span class="user-desc">Administrator</span>
                            </span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right pc-h-dropdown">
                            <a href="../administrator/profile" class="dropdown-item">
                                <i class="material-icons-two-tone">account_circle</i>
                                <span>Profile</span>
                            </a>
                            <a href="../administrator/logout" class="dropdown-item">
                                <i class="material-icons-two-tone">chrome_reader_mode</i>
                                <span>Logout</span>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </header>
    <!-- [ Header ] end -->


<!-- [ Main Content ] start -->
<section class="pc-container">
    <div class="pcoded-content">

        <!-- [ Main Content ] start -->
       
        <div class="row">
           
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Admin Information</h5>
                    </div>
                    <div class="card-body">
                        <form class="row g-3 needs-validation" novalidate>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltip01" class="form-label">First name</label>
                                <input type="text" class="form-control" id="validationTooltip01" value="{{user.first_name}}" readonly>
                                <div class="valid-tooltip">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltip02" class="form-label">Middle Name</label>
                                <input type="text" class="form-control" id="validationTooltip05" value="{{admin.middle_name}}" readonly>
                                <div class="valid-tooltip">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltip02" class="form-label">Last name</label>
                                <input type="text" class="form-control" id="validationTooltip02" value="{{user.last_name}}" readonly>
                                <div class="valid-tooltip">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltipUsername" class="form-label">Username</label>
                                <div class="input-group">
                                    <span class="input-group-text" id="validationTooltipUsernamePrepend">@</span>
                                    <input type="text" class="form-control" value="{{user.username}}" id="validationTooltipUsername" aria-describedby="validationTooltipUsernamePrepend" readonly>
                                    <div class="invalid-tooltip">
                                        Please choose a unique and valid username.
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltip03" class="form-label">Address</label>
                                <input type="text" class="form-control" value="{{admin.address}}" id="validationTooltip03" required readonly>
                                <div class="invalid-tooltip">
                                    Please provide a valid city.
                                </div>
                            </div>
                            <div class="col-md-4 position-relative">
                                <label for="validationTooltip04" class="form-label">Position</label>
                                <input type="text" class="form-control" value="{{admin.position}}" id="validationTooltip03" required readonly>
                                <div class="invalid-tooltip">
                                    Please select a valid Country.
                                </div>
                            </div>
                            <!-- <div class="col-md-3 position-relative">
                                <label for="validationTooltip05" class="form-label">Zip</label>
                                <input type="text" class="form-control" value="" id="validationTooltip05" required readonly>
                                <div class="invalid-tooltip">
                                    Please provide a valid zip.
                                </div>
                            </div> -->
                            <div class="col-12">
                                <button type="button" class="btn btn-primary" style="background-color: whitesmoke; color:black" data-toggle="modal" data-target=".bd-example-modal-lg">Request Edit </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Password Settings</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-12">
                                <h5 class="mt-3">Change Password</h5>
                                <hr>
                                <form class="row g-3 needs-validation" novalidate>
                                    <div class="col-md-4 position-relative">
                                        <label for="validationTooltip01" class="form-label">Old Password</label>
                                        <input type="password" class="form-control" id="validationTooltip01"  required >
                                        <div class="valid-tooltip">
                                            Looks good!
                                        </div>
                                    </div>
                                    <div class="col-md-4 position-relative">
                                        <label for="validationTooltip02" class="form-label">New Password</label>
                                        <input type="password" class="form-control" id="validationTooltip02"  required >
                                        <div class="valid-tooltip">
                                            Looks good!
                                        </div>
                                    </div>
                                    <div class="col-md-4 position-relative">
                                        <label for="validationTooltipUsername" class="form-label">Repeat New Password</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control"  id="validationTooltipUsername" aria-describedby="validationTooltipUsernamePrepend" required >
                                            <div class="invalid-tooltip">
                                                Please choose a unique and valid password.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 ">
                                        <button class="btn btn-primary" type="submit" style="background-color: whitesmoke; color:black">Confirm Password </button>
                                    </div>
                                </form>
                                </div>
                            </div>
                        </div>
                    </div>                   
                </div>
            </div>
        </div>

        <!-- Modal -->
        <form id = "form1" action = "" method = "POST" autocomplete = "off" enctype="multipart/form-data">
            {% csrf_token %}
        <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Profile Information</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                
                                    <div class="d-flex justify-content-center">
                                        <!-- {% if admin.picture %}
                                            <img src="{{ admin.picture.url }}" alt="Image Preview" class="image-preview__image" width="200px" height="200px">
                                            {% else %}
                                            <img src="{% static 'profilephotos/missing_profile.jpg' %}" alt="" class="" width="200px" height="200px">
                                        {% endif %} -->
                                        <!-- <div class="avatar-wrapper">
                                            <input type="file" class="form-control-file" id="picture" name="picture" accept="image/png, image/gif, image/jpeg">
                                        </div> -->
                                        <!-- <input type="file" class="form-control-file" id="picture" name="picture" accept="image/png, image/gif, image/jpeg"> -->

                                        <!-- <form method="post" enctype="multipart/form-data"> -->
                                            <!-- <div style="display: flex;">
                                                <input type="file" accept=".png, .jpeg, .jpg, .gif" name="photos" class="form-control" style="margin-right: 1em;">
                                                <input type="submit" name="testBtn" class="btn btn-primary">
                                            </div> -->
                                        <!-- </form> -->

                                    </div>
                                <br>

                                <div class="row mb-6">
                                    <label for="inputEmail3" class="col-sm-3 col-form-label">First Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_first_name" name="update_first_name" value="{{user.first_name}}">
                                    </div>
                                </div><br>
                                <div class="row mb-6">
                                    <label for="inputEmail3" class="col-sm-3 col-form-label">Middle Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_middle_name" name="update_middle_name" value="{{admin.middle_name}}">
                                    </div>
                                </div><br>
                                <div class="row mb-6">
                                    <label for="inputEmail3" class="col-sm-3 col-form-label">Last Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_last_name" name="update_last_name" value="{{user.last_name}}">
                                    </div>
                                </div><br>
                                <div class="row mb-6">
                                    <label for="inputEmail3" class="col-sm-3 col-form-label">Address</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_address" name="update_address" value="{{admin.address}}">
                                    </div>
                                </div><br>
                                <div class="row mb-6">
                                    <label for="inputEmail3" class="col-sm-3 col-form-label">Position</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_position" name="update_position" value="{{admin.position}}">
                                    </div>
                                </div><br>
                                <div class="row mb-3">
                                    <label for="inputPassword3" class="col-sm-3 col-form-label">User Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="update_username" name="update_username" value="{{user.username}}">
                                    </div>
                                </div><br>


                                <div class="modal-header">
                                <h5 class="modal-title" id="editModalLabel">Edit Profile Photo</h5>
                                </div><br>

                                
                                <div class="row mb-6">
                                    <center>
                                        <div class="col">
                                            <div class="image-preview" id="imagePreview">
                                                {% if admin.picture %}
                                                <img src="{{ admin.picture }}" alt="Image Preview" class="image-preview__image" width="200px" height="200px">
                                                {% else %}
                                                <img src="{% static 'assets/img/dashboard/user/avatar-2.jpg' %}" alt="" class="" width="200px" height="200px">
                                                {% endif %}

                                                <span class="image-preview__default-text"></span>
                                            </div>
                                        </div>
                                    </center>
                                </div>
                                <br>
                                <div class="row" style="display: flex; justify-content: center; align-items: center;">
                                    <div class="col-6">
                                        <input type="file" accept=".png, .jpeg, .jpg, .gif" name="photos" class="form-control">
                                        <!-- <input type="submit" name="testBtn" class="btn btn-primary"> -->

                                        <!-- <div class="avatar-wrapper">
                                            <input type="file" class="form-control-file" id="picture" name="picture" accept="image/png, image/gif, image/jpeg">
                                        </div> -->
                                    </div>
                                    <div class="col-2">
                                        <input type="submit" name="testBtn" class="btn btn-primary">
                                    </div>
                                </div>
                                </div>
                                

                                <script>
                                    const picture = document.getElementById("picture");
                                    const previewContainer = document.getElementById("imagePreview");
                                    const previewImage = previewContainer.querySelector(".image-preview__image");
                                    const previewDefaultText = previewContainer.querySelector(".image-preview__default-text");

                                    picture.addEventListener("change", function() {
                                        const file = this.files[0];

                                        if (file){
                                            const reader = new FileReader();

                                            previewDefaultText.style.display = "none";
                                            previewImage.style.display = "block";

                                            reader.addEventListener("load", function() {
                                                console.log(this);
                                                previewImage.setAttribute("src", this.result);
                                            });

                                            reader.readAsDataURL(file);
                                        }
                                    });
                                </script>
                                <!-- <div class="row">
                                    <img id="picture" width="100px" height="100px">
                                </div> -->

                                <br><br>
                            </form>
                        </div>



                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="discardBtn">Close</button>
                <button type="submit" class="btn btn-primary" id="saveBtn" name="saveBtn">Save changes</button>
                </div>
            </div>
            </div>
        </div>
    </form>

    <!-- File JS -->
   <!--  <script src="js/jquery.min.js"></script>
    <script>
    function filePreview(input){
        if (input.files && input.files[0]){
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#form1 + img').remove();
                $('#form1').after('<img src= "'+e.target.result+' "width="450" height="300" />');
            };
            reader.readAsDataURL(input.files[0]);
        }
    }


    $("#picture").change(function(){
        filePreview(this);
    });
    </script> -->


    </div>
</section>
{% endfor %}

        <!-- [ Main Content ] end -->


    <!-- Required Js -->
    <script src="{% static 'assets/js/dashboard/vendor-all.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/plugins/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/dashboard/pcoded.min.js' %}"></script>
    



<!-- custom-chart js -->
<script src="{% static 'assets/js/dashboard/pages/dashboard-sale.js' %}"></script>
{% endblock %}
</body>

</html>
